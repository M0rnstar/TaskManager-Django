<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main page</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header__left">
          <div class="logo">
            <img src="img/logo.svg" alt="logo" />
          </div>
          <div class="header__title">Task Management System</div>
        </div>

        <div class="header__center">
          <div class="add-task" id="addTask">Добавить задачу</div>
          <div class="header__navbar">
            <ul class="navbar">
              <li class="nav-item" id="inProcessItem">В процессе</li>
              <li class="nav-item" id="overdueItem">Просроченные</li>
              <li class="nav-item" id="completedItem">Завершённые</li>
            </ul>
          </div>
        </div>

        <div class="header__right">
          <div class="user-container">
            <div class="user-info">
              <span class="username" id="username">user</span>
              <span class="email" id="email">example@mail.ru</span>
            </div>
            <div class="avatar">
              <img src="./img/kitten.jpg" alt="avatar" class="user-avatar" />
            </div>
          </div>
          <div class="dropdown" id="dropdownMenu">
            <ul>
              <li>
                настройки
                <img
                  src="./img/settings.svg"
                  alt="настройки"
                  class="menu-icon"
                />
              </li>
              <li class="logout-button">
                выход
                <img src="./img/logout.svg" alt="выход" class="menu-icon" />
              </li>
            </ul>
          </div>
        </div>
      </header>

      <main>
        <div class="cards"></div>

        <!-- -------------- Новый вариант модального окна ---------------->
        <div class="task-modal" id="taskModal">
          <div class="modal-content">
            <div class="modal-container">
              <!-- Шапка: дата (До …) + иконка сохранения и крестик -->
              <div class="modal-header">
                <div class="modal-deadline">
                  <!-- Иконка календаря -->
                  <img
                    src="img/calendar.svg"
                    alt="calendar-icon"
                    class="calendar-icon"
                  />

                  <!-- Текстовая дата (по умолчанию), через JS подменяем -->
                  <span id="deadlineText">До 01.01.2025</span>

                  <!-- Реальное поле для выбора даты (прячем стилями) -->
                  <input
                    type="date"
                    id="modalDeadline"
                    class="date-input-hidden"
                    value="2025-01-01"
                    onkeydown="return false"
                    onclick="this.showPicker()"
                  />
                </div>

                <div class="modal-icons">
                  <!-- Иконка сохранения (id="submitModal", чтобы JS продолжал работать) -->
                  <img
                    src="img/save.svg"
                    alt="Save"
                    class="icon-save"
                    id="submitModal"
                  />
                  <!-- Иконка-крестик (класс .close нужен скрипту) -->
                  <span class="close">&times;</span>
                </div>
              </div>

              <!-- Основная часть -->
              <div class="modal-body">
                <!-- Единая «рамка» для заголовка и описания -->
                <div class="task-box">
                  <div class="task-box-header">
                    <input
                      type="text"
                      class="task-title"
                      id="modalTitle"
                      placeholder="Введите название задачи"
                    />
                    <div class="editor-toolbar">
                      <button class="btn-bold">B</button>
                      <button class="btn-italic">I</button>
                    </div>
                  </div>
                  <textarea
                    class="task-description"
                    id="modalContent"
                    placeholder="Введите описание задачи"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- -------------- Конец нового модального окна ---------------->
      </main>
    </div>

    <!-- Подключаем JS -->
    <script src="main.js"></script>
    <script src="utils.js"></script>
  </body>
</html>
